@model IEnumerable<PjBaySite.Models.IBoxItem>

@{
    ViewData["Title"] = "Home Page";
//var Grid = new List<List<IBoxItem>>();
//for (int i = 0; i < Model.Count(); i++)
//{
//    int j = i / 4;

//    if (Grid.Count() == j)
//    {
//        Grid.Add(new List<IBoxItem>(4));
//    }

//    Grid[j].Add(Model.ElementAt(i));
//}
}

<div class="jumbotron">
    <h1>Learn Less NOW!!</h1>
    <p>Now you can learn less and get better grades!</p>
    <p>so what are you waiting for?..</p>
    <p><a class="btn btn-primary btn-lg" Link="Buy">Learn Less Now</a></p>
</div>

@*@foreach (List<IBoxItem> row in Grid)
{
    <div class="row">
        @foreach (IBoxItem proj in row)
        {
            <div class="col-md-3">
                @Html.Partial("ItemBox", proj)
            </div>
        }
    </div>
}*@

<div id="map_canvas" style="width:400px;height:400px;">Google Map</div> 




<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
<script type="text/javascript">

    $(document).ready(function() { initialize(); });

    function initialize() {
        var map_options = {
            center: new google.maps.LatLng(31.537825, 34.91199299999994),
            zoom: 8,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        var google_map = new google.maps.Map(document.getElementById("map_canvas"), map_options);

        var info_window = new google.maps.InfoWindow({
            content: 'loading'
        });

        var t = [];
        var x = [];
        var y = [];
        var h = [];

        t.push('Central Office');
        x.push(31.969619);
        y.push(34.783633);
        h.push('<p><strong>PjBay Office</strong><br/>Ha Nofar 24, Rishon Lezion</p>');

        

        var i = 0;
        for ( item in t ) {
            var m = new google.maps.Marker({
                map:       google_map,
                animation: google.maps.Animation.DROP,
                title:     t[i],
                position:  new google.maps.LatLng(x[i],y[i]),
                html:      h[i]
            });

            google.maps.event.addListener(m, 'click', function() {
                info_window.setContent(this.html);
                info_window.open(map, this);
            });
            i++;
        }
    }
</script>
